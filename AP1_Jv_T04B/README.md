Project Backend 04 — Java_Bootcamp
Резюме: в этом проекте ты научишься добавлять базы данных в веб-приложения на языке Java с использованием Spring и работать с авторизацией.

Содержание
Chapter I
Инструкция
Chapter II
Общая информация
Авторизация
Идентификация, аутентификация, авторизация
Авторизация с помощью логина и пароля
Chapter III
Задание 1. Добавление базы данных

Задание 2. Добавление авторизации

Задание 3. Добавление логики игры между двумя игроками

Chapter I

Chapter II
Общая информация
Авторизация
Средства авторизации контролируют доступ легальных пользователей к ресурсам системы, предоставляя каждому из них именно те права, которые ему были определены администратором.

Идентификация, аутентификация, авторизация
Идентификация — процедура, в результате выполнения которой для субъекта выявляется его уникальный признак, однозначно определяющий его в информационной системе.

Аутентификация — процедура проверки подлинности, например, проверка подлинности пользователя путем сравнения введенного им пароля с паролем, сохраненным в системе.

Авторизация — предоставление определенному лицу или группе лиц прав на выполнение определенного набора действий.

Авторизация с помощью логина и пароля
Метод основывается на том, что пользователь должен предоставить логин и пароль для успешной идентификации и аутентификации в системе. Пара логина и пароля задается пользователем при его регистрации в системе. В случае успешной авторизации на сервере пользователю выдаются права на выполнение доступных ему запросов.

Клиент отправляет запрос на сервер и получает в виде ответа сообщение «Unauthorized» вместе с информацией о порядке авторизации. После успешного прохождения авторизации в каждый последующий запрос клиента автоматически добавляется заголовок «Authorization» (формирование заголовка авторизации), в котором передаются данные клиента для аутентификации сервером.


Существуют и другие способы авторизации.

Темы для изучения:
Веб-приложение;
Авторизация по паре логина и пароля (basic auth);
PostgreSQL;
ASP.NET.
Chapter III
Проект: Крестики-Нолики
Используй проект для серверной части с предыдущей недели Т03.

Задание 1. Добавление базы данных
Опиши подключение к базе данных PostgreSQL в application.properties.
Избавься от класса-хранилища.
Добавь специальные аннотации для классов, которые необходимо сохранять в базу данных.
Используй у репозиториев в качестве родителя CrudRepository.
Задание 2. Добавление авторизации
Добавь пользователей, у которых будет UUID, логин, пароль.
Реализуй поддержку пользователей на всех слоях.
Создай модель SignUpRequest, у которой будет логин и пароль.
Создай сервис авторизации, который использует UserService:
метод регистрации, который принимает SignUpRequest и возвращает факт успешной регистрации;
метод авторизации, который принимает в заголовке логин и пароль в виде base64(login:password) и возвращает UUID пользователя.
Создай контроллер авторизации, у которого будут следующие endpoint'ы:
для регистрации пользователя;
для авторизации пользователя.
Создай класс AuthFilter, сделай наследование от GenericFilterBean и реализуй метод doFilter:
Провалидируй логин и пароль.
Если валидация прошла успешно, то выполни запрос.
Если валидация прошла с ошибкой, то добавь в ответ 401 код и не выполняй запрос.
Создай Spring Configuration, где:
Опиши Bean для получения SecurityFilterChain.
Разреши доступ без авторизации к endpoint'ам регистрации и авторизации.
Для всех остальных endpoint'ов должна требоваться авторизация.
Воспользуйся AuthFilter в качестве фильтра.
Задание 3. Добавление логики игры между двумя игроками
Добавь состояния для текущей игры:
ожидание игроков;
ход игрока с UUID;
ничья;
победа игрока с UUID.
Добавь информацию о значках, которыми будут ходить пользователи, в текущую игру.
Улучши алгоритм определения окончания игры с использованием состояний.
Добавь endpoint для создания новой игры с пользователем или компьютером.
Добавь endpoint для получения доступных текущих игр.
Добавь endpoint для присоединения пользователя к игре.
Улучши endpoint обновления текущей игры с учетом игры с пользователем или компьютером.
Добавь endpoint для получения текущей игры.
Добавь endpoint для получения информации о пользователе по UUID.
Unfortunately, you can't participate in this project
Module project
Project Backend 04 — Java_Bootcamp
